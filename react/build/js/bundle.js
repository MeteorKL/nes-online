webpackJsonp([0],[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(1),a=o(r),i=n(28),s=o(i),l=n(166),u=n(204),c=n(257),d=o(c),f=n(323),m=o(f),p=n(328),h=o(p),b=n(329),g=o(b),_=n(331),y=o(_),E=n(333),v=o(E),x=n(287),w=(o(x),n(271)),O=o(w);s.default.render(a.default.createElement("div",null,a.default.createElement(l.Provider,{store:O.default},a.default.createElement(u.Router,{history:u.hashHistory},a.default.createElement(u.Route,{path:"/"},a.default.createElement(u.Route,{path:"/active/:active_code",component:m.default}),a.default.createElement(u.Route,{path:"/register",component:h.default}),a.default.createElement(u.IndexRoute,{component:d.default}),a.default.createElement(u.Route,{path:"/login",component:g.default}),a.default.createElement(u.Route,{path:"/forgetPassword",component:y.default}),a.default.createElement(u.Route,{path:"/forgetPassword/reset",component:v.default}))))),document.getElementById("App"));(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{user:e.user,tab:e.tab}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166);n(204);n(258);var f=n(262),m=o(f),p=n(314),h=o(p),b=n(291),g=o(b),_=n(299),y=o(_),E=n(317),v=o(E),x=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){return null==this.props.user?void(location.href="#/login"):void g.default.createWS(this.props.user)}},{key:"render",value:function(){if(null==this.props.user)return c.default.createElement("div",null);var e=c.default.createElement("div",{className:"Header"},c.default.createElement("div",{className:"title"},"NES Online")),t=c.default.createElement("div",{className:"Footer"},c.default.createElement("a",{style:{float:"right"},target:"blank",href:"https://github.com/MeteorKL"},c.default.createElement("img",{src:"/img/github.png"}))),n=c.default.createElement("div",{className:"Account"},c.default.createElement("div",{className:"user"},c.default.createElement("img",{src:this.props.user.avatar}),c.default.createElement("input",{value:this.props.user.name,disabled:!0})));return c.default.createElement("div",null,this.props.children,"Game"==this.props.tab?c.default.createElement(y.default,null):c.default.createElement("div",null),e,n,c.default.createElement(m.default,null),c.default.createElement(h.default,{user:this.props.user}),c.default.createElement(v.default,null),t)}}]),t}(c.default.Component),w=(0,d.connect)(s,null)(x);t.default=w;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(x,"App","/Users/meteor/go/src/nes-online/react/src/container/App.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/App.jsx"),__REACT_HOT_LOADER__.register(w,"default","/Users/meteor/go/src/nes-online/react/src/container/App.jsx"))})()},function(e,t,n){var o=n(259);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".scrollDiv{width:10px;position:absolute;top:0;bottom:0;background:#666;border-radius:10px}.scrollDiv:hover{background:#444}.Header{position:fixed;top:0;left:0;height:16px;width:100%;background:linear-gradient(#1c1c1c,#2c2c2c)}.Header>.title{background:url(/img/logo@16.png) no-repeat 3px 0;outline:none;border:0;color:#fff;font-size:12px;padding:0 24px}.Account{position:fixed;top:16px;left:0;height:32px;width:100%;background:linear-gradient(#2c2c2c,#4c4c4c)}.Account>.user{position:absolute;right:168px;top:0}.Account>.user>img{height:32px;width:32px}.Account>.user>input{position:absolute;top:0;left:40px;width:68px;outline:none;border:none;background:none;color:#fff;font-size:16px}.Footer{position:fixed;bottom:0;left:0;height:32px;width:100%;background:#5c5c5c}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(o[a]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&o[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=m[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(u(o.parts[a],t))}else{for(var i=[],a=0;a<o.parts.length;a++)i.push(u(o.parts[a],t));m[o.id]={id:o.id,refs:1,parts:i}}}}function r(e){for(var t=[],n={},o=0;o<e.length;o++){var r=e[o],a=r[0],i=r[1],s=r[2],l=r[3],u={css:i,media:s,sourceMap:l};n[a]?n[a].parts.push(u):t.push(n[a]={id:a,parts:[u]})}return t}function a(e,t){var n=b(),o=y[y.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function u(e,t){var n,o,r;if(t.singleton){var a=_++;n=g||(g=s(t)),o=c.bind(null,n,a,!1),r=c.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),o=f.bind(null,n),r=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),o=d.bind(null,n),r=function(){i(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function c(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=E(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function d(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,o=t.sourceMap;o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}var m={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),b=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,_=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return o(n,t),function(e){for(var a=[],i=0;i<n.length;i++){var s=n[i],l=m[s.id];l.refs--,a.push(l)}if(e){var u=r(e);o(u,t)}for(var i=0;i<a.length;i++){var l=a[i];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete m[l.id]}}}};var E=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{tab:e.tab,game:e.game,room:e.room}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166);n(263);var f=n(265),m=o(f),p=n(288),h=o(p),b=n(293),g=o(b),_=n(296),y=o(_),E=n(299),v=(o(E),n(287)),x=o(v),w=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"TabList"},c.default.createElement("div",{className:"Tab"},c.default.createElement("button",{className:"GameList"==this.props.tab?"Show":"Hide",onClick:function(){return e.props.tabSet("GameList")}},"游戏大厅"),c.default.createElement("button",{className:"MyGame"==this.props.tab?"Show":"Hide",onClick:function(){return e.props.tabSet("MyGame")}},"我的游戏"),""!=this.props.game&&c.default.createElement("button",{className:"GamePreview"==this.props.tab?"Show":"Hide",onClick:function(){return e.props.tabSet("GamePreview")}},this.props.game),null!=this.props.room&&c.default.createElement("button",{className:"Room"==this.props.tab?"Show":"Hide",onClick:function(){return e.props.tabSet("Room")}},"房间",this.props.room.id),c.default.createElement("button",{className:"RoomList"==this.props.tab?"room-show":"room-hide",onClick:function(){return e.props.tabSet("RoomList")}},"房间列表"),c.default.createElement("div",{className:"partition"},"|")),c.default.createElement("div",{className:"List"},"GameList"==this.props.tab?c.default.createElement(m.default,null):"GamePreview"==this.props.tab?c.default.createElement(h.default,null):"MyGame"==this.props.tab?c.default.createElement("div",null):"RoomList"==this.props.tab?c.default.createElement(g.default,null):"Room"==this.props.tab?c.default.createElement(y.default,null):c.default.createElement("div",null)))}}]),t}(c.default.Component),O=(0,d.connect)(s,x.default)(w);t.default=O;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(w,"GameTab","/Users/meteor/go/src/nes-online/react/src/container/GameTab/GameTab.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/GameTab/GameTab.jsx"),__REACT_HOT_LOADER__.register(O,"default","/Users/meteor/go/src/nes-online/react/src/container/GameTab/GameTab.jsx"))})()},function(e,t,n){var o=n(264);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".TabList{position:fixed;top:48px;bottom:32px;left:0;right:0}.TabList>.Tab{top:0;height:32px;background:linear-gradient(#4c4c4c,#6c6c6c);line-height:32px}.TabList>.List,.TabList>.Tab{position:absolute;left:0;width:100%}.TabList>.List{top:32px;bottom:0;background:#6c6c6c}.TabList>.Tab>.partition{position:absolute;right:100px;color:#707070}.TabList>.Tab>.Hide,.TabList>.Tab>.Show{font-size:13px;background:none;padding:8px 20px 4px;outline:none}.TabList>.Tab>.Show{float:left;color:#fff;border:0;border-bottom:2px solid #fff}.TabList>.Tab>.Hide{float:left;color:#cfcfcf;border:0;border-bottom:2px}.TabList>.Tab>.room-hide,.TabList>.Tab>.room-show{position:absolute;right:108px;border:1px solid #738baf;border-radius:5px;color:#cfcfcf;font-size:14px;background:none;padding:0 14px;outline:none;margin:5px}.TabList>.Tab>.room-show{color:#fff}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{gamelist:e.gamelist}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166);n(266);var f=n(268),m=(o(f),n(284)),p=o(m),h=n(287),b=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"chooseGame",value:function(e){return console.log("选择游戏 "+e),this.props.gameSet(e),this.props.tabSet("GamePreview"),!1}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"GameListBox",id:"GameListBox"},c.default.createElement("div",{className:"GameList",id:"GameList"},this.props.gamelist.map(function(t){return c.default.createElement("div",{className:"Block",id:"Block",key:t.name,onClick:e.chooseGame.bind(e,t.name)},c.default.createElement("img",{src:"/rom/"+t.name+".jpg"}),c.default.createElement("div",{className:"Info"},t.name))})),c.default.createElement(p.default,{mainBoxID:"GameListBox",contentID:"GameList",scrollUpdate:this.props.gamelist.length}))}}]),t}(c.default.Component),g=(0,d.connect)(s,{gameSet:h.gameSet,tabSet:h.tabSet})(b);t.default=g;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"GameList","/Users/meteor/go/src/nes-online/react/src/container/GameTab/GameList.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/GameTab/GameList.jsx"),__REACT_HOT_LOADER__.register(g,"default","/Users/meteor/go/src/nes-online/react/src/container/GameTab/GameList.jsx"))})()},function(e,t,n){var o=n(267);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".GameListBox{position:relative;height:100%;width:100%;overflow:hidden}.GameList{position:absolute;left:0;top:0;right:10px;height:auto}.GameList>.Block{position:relative;float:left;width:128px;padding:5px;text-align:center;color:#cfcfcf;border:2px solid #6c6c6c;border-radius:3px;margin:5px}.GameList>.Block:hover{border:2px solid #fff;color:#fff;border-radius:3px;cursor:pointer}.GameList>.Block>img{width:128px;height:120px;border-radius:10px}.GameList>.Block>.Info{border:0;padding:0;margin:0;text-align:center;font-size:85%}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(269),a=o(r),i=n(270),s=o(i),l=n(271);o(l);t.listGame=function(e){var t=s.default.apiServer+"/listGame";a.default.Get(t).then(function(t){console.log("gamelist"),console.log(t),e(t)}).catch(function(e){console.error(e)})};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t){"use strict";function n(e){if("object"!=("undefined"==typeof e?"undefined":o(e)))return void alert("输入的参数必须是对象");if("function"==typeof FormData){var t=new FormData;for(var n in e)t.append(n,e[n]);return t}var r=new Array,a=0;for(var n in e)r[a]=encodeURIComponent(n)+"="+encodeURIComponent(e[n]),a++;return r.join("&")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.Get=function(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.open("GET",e),o.send(null),o.addEventListener("readystatechange",function(){if(4===o.readyState&&200===o.status)try{var e=JSON.parse(o.responseText);t(e)}catch(e){n(e)}}),o.addEventListener("error",function(e){n(e)})})},t.Post=function(e,t){return new Promise(function(n,o){var r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(t),r.addEventListener("readystatechange",function(){if(4===r.readyState&&200===r.status)try{var e=JSON.parse(r.responseText);n(e)}catch(e){o(e)}}),r.addEventListener("error",function(e){o(e)})})};(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"postDataFormat","/Users/meteor/go/src/nes-online/react/src/utils/ajax.js")})()},function(e,t){"use strict";e.exports={apiServer:"/api"};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(177),a=n(272),i=o(a),s=window.__INITIAL_STATE__;window.store=(0,r.createStore)(i.default,s,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var l=store;t.default=l;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"initialState","/Users/meteor/go/src/nes-online/react/src/store.js"),__REACT_HOT_LOADER__.register(l,"default","/Users/meteor/go/src/nes-online/react/src/store.js"))})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(177),a=n(273),i=o(a),s=n(274),l=o(s),u=n(275),c=o(u),d=n(276),f=o(d),m=n(277),p=o(m),h=n(279),b=o(h),g=n(280),_=o(g),y=n(281),E=o(y),v=n(282),x=o(v),w=n(283),O=o(w),k=(0,r.combineReducers)({game:i.default,tab:l.default,gameTab:c.default,room:f.default,roomlist:p.default,user:b.default,msg:_.default,nes:E.default,keyboard:x.default,gamelist:O.default});t.default=k;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(k,"default","/Users/meteor/go/src/nes-online/react/src/reducers/index.js")})()},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"gameSet":return t.game;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o="";(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"initialState","/Users/meteor/go/src/nes-online/react/src/reducers/game.js"),__REACT_HOT_LOADER__.register(n,"reducer","/Users/meteor/go/src/nes-online/react/src/reducers/game.js"))})()},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"tabSet":return t.tab;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o="GameList";(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"initialState","/Users/meteor/go/src/nes-online/react/src/reducers/tab.js"),__REACT_HOT_LOADER__.register(n,"reducer","/Users/meteor/go/src/nes-online/react/src/reducers/tab.js"))})()},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"gameTabSet":return t.gameTab;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o="";(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"initialState","/Users/meteor/go/src/nes-online/react/src/reducers/gameTab.js"),__REACT_HOT_LOADER__.register(n,"reducer","/Users/meteor/go/src/nes-online/react/src/reducers/gameTab.js"))})()},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"roomSet":return t.room;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=null;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"initialState","/Users/meteor/go/src/nes-online/react/src/reducers/room.js"),__REACT_HOT_LOADER__.register(n,"reducer","/Users/meteor/go/src/nes-online/react/src/reducers/room.js"))})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"roomlistUpdate":var n=i.default.copyState(e);return n[t.room.id]=t.room,n;case"roomlistRemove":var n=i.default.copyState(e);return delete n[t.roomID],n;case"roomlistSet":return t.roomlist;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(278),i=o(a),s=new Object;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"initialState","/Users/meteor/go/src/nes-online/react/src/reducers/roomlist.js"),__REACT_HOT_LOADER__.register(r,"reducer","/Users/meteor/go/src/nes-online/react/src/reducers/roomlist.js"))})()},function(e,t){"use strict";t.copyState=function(e){var t=new Object;for(var n in e)t[n]=e[n];return t};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"userSet":return t.user;case"userUpdate":var n=i.default.copyState(e);return n[t.key]=t.value,n;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(278),i=o(a),s={name:"未登录",avatar:"/img/avatar/questionMark.jpg"};(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"initialState","/Users/meteor/go/src/nes-online/react/src/reducers/user.js"),__REACT_HOT_LOADER__.register(r,"reducer","/Users/meteor/go/src/nes-online/react/src/reducers/user.js"))})()},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"msgSet":return t.msg;case"msgAdd":var n=e.concat();return n.push(t.msg),n;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=[];(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"initialState","/Users/meteor/go/src/nes-online/react/src/reducers/msg.js"),__REACT_HOT_LOADER__.register(n,"reducer","/Users/meteor/go/src/nes-online/react/src/reducers/msg.js"))})()},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"nesSet":return t.nes;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=new Object;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"initialState","/Users/meteor/go/src/nes-online/react/src/reducers/nes.js"),__REACT_HOT_LOADER__.register(n,"reducer","/Users/meteor/go/src/nes-online/react/src/reducers/nes.js"))})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"keyboardSet":return t.keyboard;case"keyboardSetOne":var n=i.default.copyState(e);return n[t.key]=t.value,n;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(278),i=o(a),s={};(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"initialState","/Users/meteor/go/src/nes-online/react/src/reducers/keyboard.js"),__REACT_HOT_LOADER__.register(r,"reducer","/Users/meteor/go/src/nes-online/react/src/reducers/keyboard.js"))})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case"gamelistSet":return t.gamelist;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(278),i=(o(a),new Array);(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"initialState","/Users/meteor/go/src/nes-online/react/src/reducers/gamelist.js"),__REACT_HOT_LOADER__.register(r,"reducer","/Users/meteor/go/src/nes-online/react/src/reducers/gamelist.js"))})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),u=o(l);n(285);var c=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.wheelData=0,n.state={scrollDynamicStyle:{height:"0"}},n.resizeHandler=function(){n.updateScroll()},n}return i(t,e),s(t,[{key:"bind",value:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}},{key:"mouseWheel",value:function(e,t){function n(e){var t=e||window.event;return t.wheelDelta?t.wheelDelta:40*t.detail}this.bind(e,"mousewheel",function(e){var o=-n(e);t(o),document.all?window.event.returnValue=!1:e.preventDefault()}),this.bind(e,"DOMMouseScroll",function(e){var o=n(e);t(o),e.preventDefault()})}},{key:"componentWillReceiveProps",value:function(e){"undefined"!=typeof e.scrollUpdate&&this.updateScroll()}},{key:"updateScroll",value:function(){var e=document.getElementById(this.props.contentID).offsetHeight,t=document.getElementById(this.props.mainBoxID).offsetHeight,n=parseInt(t*(t/e)),o=n>=t?t+"px":n+"px";this.setState({scrollDynamicStyle:{height:o}})}},{key:"tragScroll",value:function(e,t,n){var o=this,r=e.clientHeight;n.onmousedown=function(a){var i=n.offsetTop,s=a||window.event,l=s.clientY;document.onmousemove=function(a){var s=a||window.event,u=s.clientY;u=i+u-l,u>r-n.offsetHeight&&(u=r-n.offsetHeight),u<=0&&(u=0),n.style.top=u+"px",t.style.top=-u*(t.offsetHeight/e.offsetHeight)+"px",o.wheelData=u},document.onmouseup=function(e){document.onmousemove=null}}}},{key:"wheelChange",value:function(e,t,n){var o=this,r=0,a=0;this.mouseWheel(e,function(i){a+=i,o.wheelData>=0?(r=o.wheelData,n.style.top=r+"px",a=12*o.wheelData,o.wheelData=-1):r=a/12,r<=0&&(r=0,a=0),r>=e.offsetHeight-n.offsetHeight&&(r=e.clientHeight-n.offsetHeight,a=12*(e.clientHeight-n.offsetHeight)),n.style.top=r+"px",t.style.top=-r*(t.offsetHeight/e.offsetHeight)+"px"})}},{key:"componentDidMount",value:function(){var e=document.getElementById(this.props.mainBoxID),t=document.getElementById(this.props.contentID),n=document.getElementById(this.props.mainBoxID+"-scroll");this.updateScroll(),this.tragScroll(e,t,n),this.wheelChange(e,t,n),window.addEventListener("resize",this.resizeHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeHandler)}},{key:"render",value:function(){return u.default.createElement("div",{className:this.props.scrollBackgroundStyle},u.default.createElement("div",{className:this.props.scrollStyle,id:this.props.mainBoxID+"-scroll",style:this.state.scrollDynamicStyle}))}}],[{key:"defaultProps",get:function(){return{scrollBackgroundStyle:"defaultScrollBackground",scrollStyle:"defaultScroll"}}}]),t}(u.default.Component),d=c;t.default=d;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"Scroll","/Users/meteor/go/src/nes-online/react/src/components/Scroll.jsx"),__REACT_HOT_LOADER__.register(d,"default","/Users/meteor/go/src/nes-online/react/src/components/Scroll.jsx"))})()},function(e,t,n){var o=n(286);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".defaultScroll{width:10px;position:absolute;top:0;bottom:0;background:#666;border-radius:10px}.defaultScroll:hover{background:#444}.defaultScrollBackground{position:absolute;top:0;width:10px;height:100%;right:0;background:#ccc}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(271),a=o(r);t.gameSet=function(e){return{type:"gameSet",game:e}},t.keyboardSet=function(e){return{type:"keyboardSet",keyboard:e}},t.gamelistSet=function(e){return{type:"gamelistSet",gamelist:e}},t.roomSet=function(e){return{type:"roomSet",room:e}},t.nesSet=function(e){return{type:"nesSet",nes:e}},t.userUpdate=function(e,t){return{type:"userUpdate",key:e,value:t}},t.msgSet=function(e){return{type:"msgSet",msg:e}},t.msgAdd=function(e){return{type:"msgAdd",msg:e}},t.roomlistSet=function(e){return{type:"roomlistSet",roomlist:e}},t.roomlistUpdate=function(e){return{type:"roomlistUpdate",room:e}},t.roomlistRemove=function(e){return{type:"roomlistRemove",roomID:e}},t.userSet=function(e){return{type:"userSet",user:e}},t.gameTabSet=function(e){return{type:"gameTabSet",gameTab:e}},t.tabSet=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t||"Room"!=a.default.getState().tab?t||"Game"!=a.default.getState().tab?{type:"tabSet",tab:e}:{type:"inGame"}:(alert("你在房间中，请退出房间后再进行操作！"),{type:"inRoom"})};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{game:e.game,user:e.user}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166);n(289);var f=n(291),m=o(f),p=n(287),h=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"create",value:function(){m.default.send({type:"createRoom",game:this.props.game})}},{key:"render",value:function(){return c.default.createElement("div",{className:"GamePreview"},c.default.createElement("div",{
className:"window"},c.default.createElement("img",{src:"/rom/"+this.props.game+".jpg"})),c.default.createElement("div",{className:"gameButtonBox"},c.default.createElement("table",null,c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",null,c.default.createElement("button",{onClick:this.create.bind(this)},"创建游戏")),c.default.createElement("td",null,c.default.createElement("button",null,"加入游戏")),c.default.createElement("td",null,c.default.createElement("button",null,"添加收藏")))))))}}]),t}(c.default.Component),b=(0,d.connect)(s,{roomSet:p.roomSet,tabSet:p.tabSet})(h);t.default=b;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"GamePreview","/Users/meteor/go/src/nes-online/react/src/container/GameTab/GamePreview.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/GameTab/GamePreview.jsx"),__REACT_HOT_LOADER__.register(b,"default","/Users/meteor/go/src/nes-online/react/src/container/GameTab/GamePreview.jsx"))})()},function(e,t,n){var o=n(290);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".GamePreview{position:relative;height:100%;width:100%;overflow:hidden;text-align:center}.GamePreview>.window{position:absolute;top:0;left:0;right:0;bottom:128px;background:#0d2237;border-radius:15px;margin:32px 32px 0;overflow:hidden}.GamePreview>.window>img{margin:80px auto 20px;width:256px;height:240px}.GamePreview>.gameButtonBox{position:absolute;bottom:0;left:0;right:0;height:96px;margin:0 32px}.GamePreview>.gameButtonBox>table{width:100%;border:10px}.GamePreview>.gameButtonBox>table>tbody>tr>td{margin:30px;height:100px;width:30％;text-align:center}.GamePreview>.gameButtonBox>table>tbody>tr>td>button{background:#002a5c;border:2px solid #00a0e2;color:#efefef;height:35px;width:90%;margin:auto;border-radius:10px;outline:none}.GamePreview>.gameButtonBox>table>tbody>tr>td>button:hover{color:#fff;background:#004693;cursor:pointer}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(292),a=o(r),i=n(271),s=o(i),l=n(287),u=o(l);window.ws=null,window.wsHandler={},window.wsHandler.settingUpdate=function(e){s.default.dispatch(u.default.keyboardSet(null==e.keyboard?new Object:e.keyboard)),s.default.dispatch(u.default.userSet(e.name))},window.wsHandler.info=function(e){s.default.dispatch(u.default.roomlistSet(null==e.roomlist?new Object:e.roomlist)),s.default.dispatch(u.default.gamelistSet(null==e.gamelist?new Array:e.gamelist)),s.default.dispatch(u.default.keyboardSet(null==e.keyboard?new Object:e.keyboard))},window.wsHandler.createRoom=function(e){s.default.dispatch(u.default.roomlistUpdate(e.roomlist)),e.from==s.default.getState().user.name&&(s.default.dispatch(u.default.roomSet(e.room)),s.default.dispatch(u.default.userUpdate("idInRoom",e.idInRoom)),s.default.dispatch(u.default.tabSet("Room")))},window.wsHandler.leaveRoom=function(e){"empty"==e.roomlist?s.default.dispatch(u.default.roomlistRemove(e.roomID)):s.default.dispatch(u.default.roomlistUpdate(e.roomlist)),e.from==s.default.getState().user.name?(s.default.dispatch(u.default.tabSet("RoomList",!0)),s.default.dispatch(u.default.roomSet(null))):null!=e.room&&null!=s.default.getState().room&&e.room.id==s.default.getState().room.id&&s.default.dispatch(u.default.roomSet(e.room))},window.wsHandler.enterRoom=function(e){s.default.dispatch(u.default.roomlistUpdate(e.roomlist)),null==s.default.getState().room?e.from==s.default.getState().user.name&&(s.default.dispatch(u.default.roomSet(e.room)),s.default.dispatch(u.default.userUpdate("idInRoom",e.idInRoom)),s.default.dispatch(u.default.tabSet("Room"))):e.room.id==s.default.getState().room.id&&s.default.dispatch(u.default.roomSet(e.room))},window.wsHandler.updateRoom=function(e){s.default.dispatch(u.default.roomlistUpdate(e.roomlist)),null!=e.room&&null!=s.default.getState().room&&e.room.id==s.default.getState().room.id&&s.default.dispatch(u.default.roomSet(e.room))},window.wsHandler.start=function(e){if(null!=e.room&&null!=s.default.getState().room&&e.room.id==s.default.getState().room.id){s.default.dispatch(u.default.tabSet("Game",!0)),"undefined"!=typeof e.keyboard[0]&&(window.nes.keyboard.player[0]=e.keyboard[0]),"undefined"!=typeof e.keyboard[1]&&(window.nes.keyboard.player[1]=e.keyboard[1]);var t=window.store.getState().room.players;window.keyboardAction=new Array(t.length);for(var n=6,o=0;o<t.length;o++)if(null!=t[o]){window.keyboardAction[o]=new Array(n);for(var r=0;r<n;r++)window.keyboardAction[o][r]=[]}var a=window.store.getState().user.idInRoom;window.keyboardAction[a].push([]),console.log(window.keyboardAction)}},window.wsHandler.relogin=function(e){alert("你的账号在异地登录，如果不是你本人操作，请及时修改密码"),location.reload(!0)},window.wsHandler.keyboard=function(e){keyboardActionSet(e)},t.createWS=function(e){window.WebSocket&&(ws=new WebSocket(a.default.wsServer),ws.onopen=function(){console.log("WebSocket已经打开...")},ws.onmessage=function(e){var t=JSON.parse(e.data);"keyboard"!=t.type&&console.log(t);for(var n in wsHandler)t.type==n&&window.wsHandler[n](t)},ws.onerror=function(e){console.log(e.message)},ws.onclose=function(e){console.log(e.code,e.reason),console.log("WebSocket已经断开，请重新登录"),location.href="#/login"})},t.on=function(e,t){console.log("on "+e),wsHandler[e]=t},t.send=function(e){ws.send(JSON.stringify(e))},t.sendRoomMsg=function(e){ws.send(JSON.stringify({type:"roomMsg",msg:e}))};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t){"use strict";var n=document.location.port,o=document.location.hostname;""!=n&&(o=o+":"+n),e.exports={wsServer:"ws://"+o+"/ws"};(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"port","/Users/meteor/go/src/nes-online/react/src/utils/config.js"),__REACT_HOT_LOADER__.register(o,"host","/Users/meteor/go/src/nes-online/react/src/utils/config.js"))})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{roomlist:e.roomlist}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166);n(294);var f=n(291),m=o(f),p=n(284),h=o(p),b=(n(287),function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"enter",value:function(e){"游戏中"!=this.props.roomlist[e].state&&m.default.send({type:"enterRoom",roomID:e})}},{key:"render",value:function(){var e=[];for(var t in this.props.roomlist)1&t?e.push(c.default.createElement("tbody",{key:t,onClick:this.enter.bind(this,t)},c.default.createElement("tr",{className:"odd"},c.default.createElement("td",null,this.props.roomlist[t].id),c.default.createElement("td",null,this.props.roomlist[t].name),c.default.createElement("td",null,this.props.roomlist[t].host),c.default.createElement("td",null,this.props.roomlist[t].game),c.default.createElement("td",null,this.props.roomlist[t].number),c.default.createElement("td",null,this.props.roomlist[t].state)))):e.push(c.default.createElement("tbody",{key:t,onClick:this.enter.bind(this,t)},c.default.createElement("tr",{className:"even"},c.default.createElement("td",null,this.props.roomlist[t].id),c.default.createElement("td",null,this.props.roomlist[t].name),c.default.createElement("td",null,this.props.roomlist[t].host),c.default.createElement("td",null,this.props.roomlist[t].game),c.default.createElement("td",null,this.props.roomlist[t].number),c.default.createElement("td",null,this.props.roomlist[t].state))));return c.default.createElement("div",{className:"RoomListBox",id:"RoomListBox"},c.default.createElement("div",{className:"RoomList",id:"RoomList"},c.default.createElement("table",null,c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("td",{width:"10%"},"房间号"),c.default.createElement("td",{width:"20%"},"房间名"),c.default.createElement("td",{width:"20%"},"房主"),c.default.createElement("td",{width:"30%"},"游戏名称"),c.default.createElement("td",{width:"10%"},"人数"),c.default.createElement("td",{width:"10%"},"状态"))),e)),c.default.createElement(h.default,{mainBoxID:"RoomListBox",contentID:"RoomList",scrollUpdate:e.length}))}}]),t}(c.default.Component)),g=(0,d.connect)(s,null)(b);t.default=g;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"RoomList","/Users/meteor/go/src/nes-online/react/src/container/GameTab/RoomList.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/GameTab/RoomList.jsx"),__REACT_HOT_LOADER__.register(g,"default","/Users/meteor/go/src/nes-online/react/src/container/GameTab/RoomList.jsx"))})()},function(e,t,n){var o=n(295);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".RoomListBox{position:relative;height:100%;width:100%;overflow:hidden}.RoomListBox>.RoomList{position:absolute;left:0;top:0;right:10px;height:auto;text-align:center}.RoomListBox>.RoomList>table{width:100%;border-spacing:0}.RoomListBox>.RoomList>table>thead>tr{height:32px;color:#adb6cd;background:#15385f}.RoomListBox>.RoomList>table>tbody>tr>td{padding:5px 16px}.RoomListBox>.RoomList>table>tbody>tr>td>img{height:20px;width:20px;float:left;border:1px solid #a0a0a0;margin-right:12px}.RoomListBox>.RoomList>table>tbody>tr>td>span{float:left;font-size:16px;padding:3px}.RoomListBox>.RoomList>table>tbody>.odd{height:32px;color:#adb6cd;background:#02050e}.RoomListBox>.RoomList>table>tbody>.even{height:32px;color:#adb6cd;background:#1f2126}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{game:e.game,room:e.room,user:e.user}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166);n(297);var f=n(291),m=o(f),p=n(284),h=o(p),b=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={msg:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;m.default.on("roomMsg",function(t){console.log(e.state.msg);var n={from:t.from,msg:t.msg};e.state.msg.push(n),e.setState({msg:e.state.msg})})}},{key:"enter",value:function(e){13==e.keyCode&&this.send()}},{key:"send",value:function(){var e=document.getElementById("send"),t=e.value;""!=t?(m.default.sendRoomMsg(t),e.value=""):alert("发送消息不能为空")}},{key:"leave",value:function(){m.default.send({type:"leaveRoom"})}},{key:"ready",value:function(){m.default.send({type:"ready"})}},{key:"unready",value:function(){m.default.send({type:"unready"})}},{key:"start",value:function(){m.default.send({type:"start"})}},{key:"render",value:function(){var e=[],t="";for(var n in this.props.room.players)null!=this.props.room.players[n]&&this.props.room.players[n].name==this.props.user.name&&("房主"==this.props.room.players[n].state?"等待开始"==this.props.room.state?t="开始":"等待准备"==this.props.room.state&&(t="等待准备"):t="已准备"==this.props.room.players[n].state?"取消准备":"准备"),1&n?e.push(null!=this.props.room.players[n]?c.default.createElement("tbody",{key:n},c.default.createElement("tr",{className:"odd"},c.default.createElement("td",null,c.default.createElement("img",{src:this.props.room.players[n].avatar}),c.default.createElement("span",null,this.props.room.players[n].name)),c.default.createElement("td",null,"房主"==this.props.room.players[n].state?c.default.createElement("div",{style:{color:"red"}},this.props.room.players[n].state):c.default.createElement("div",{style:{color:"green"}},this.props.room.players[n].state)))):c.default.createElement("tbody",{key:n},c.default.createElement("tr",{className:"odd"},c.default.createElement("td",null,c.default.createElement("img",{src:"/img/open.png"})),c.default.createElement("td",null)))):e.push(null!=this.props.room.players[n]?c.default.createElement("tbody",{key:n},c.default.createElement("tr",{className:"even"},c.default.createElement("td",null,c.default.createElement("img",{src:this.props.room.players[n].avatar}),c.default.createElement("span",null,this.props.room.players[n].name)),c.default.createElement("td",null,"房主"==this.props.room.players[n].state?c.default.createElement("div",{style:{color:"red"}},this.props.room.players[n].state):c.default.createElement("div",{style:{color:"green"}},this.props.room.players[n].state)))):c.default.createElement("tbody",{key:n},c.default.createElement("tr",{className:"even"},c.default.createElement("td",null,c.default.createElement("img",{src:"/img/open.png"})),c.default.createElement("td",null))));return c.default.createElement("div",{className:"Room"},c.default.createElement("div",{className:"game-info"},c.default.createElement("div",{className:"id"},"房间号：",this.props.room.id),c.default.createElement("img",{src:"/rom/"+this.props.room.game+".jpg"}),c.default.createElement("br",null),c.default.createElement("span",null,"房间 "),c.default.createElement("input",{type:"text",className:"name",defaultValue:this.props.room.name}),c.default.createElement("br",null),c.default.createElement("span",null,"游戏 "),c.default.createElement("input",{type:"text",className:"name",defaultValue:this.props.room.game,disabled:!0}),c.default.createElement("br",null),c.default.createElement("span",null,"密码 "),c.default.createElement("input",{type:"text",className:"name",defaultValue:this.props.room.password}),c.default.createElement("button",null,"保存设置")),c.default.createElement("div",{className:"users"},c.default.createElement("table",null,c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("td",{width:"60%"},"玩家"),c.default.createElement("td",{width:"40%"},"状态"))),e)),c.default.createElement("div",{className:"controls"},c.default.createElement("button",{onClick:this.leave.bind(this)},"退出"),c.default.createElement("button",null,"邀请好友"),"开始"==t?c.default.createElement("button",{style:{background:"red"},onClick:this.start.bind(this)},"开始"):"等待准备"==t?c.default.createElement("button",{style:{background:"gray"},disabled:!0},"等待准备"):"取消准备"==t?c.default.createElement("button",{style:{background:"orange"},onClick:this.unready.bind(this)},"取消准备"):c.default.createElement("button",{style:{background:"blue"},onClick:this.ready.bind(this)},"准备")),c.default.createElement("div",{id:"chatHistoryBox",className:"chatHistoryBox"},c.default.createElement("div",{id:"chatHistory",className:"chatHistory"},this.state.msg.map(function(e,t){return c.default.createElement("div",{className:"list",key:t},c.default.createElement("span",{style:{color:"green"}},"[",e.from,"]: "),c.default.createElement("span",{style:{color:"white"}},e.msg))})),c.default.createElement(h.default,{mainBoxID:"chatHistoryBox",contentID:"chatHistory",scrollUpdate:this.state.msg.length})),c.default.createElement("div",{className:"chat"},c.default.createElement("input",{type:"text",id:"send",onKeyUp:this.enter.bind(this)}),c.default.createElement("button",{onClick:this.send.bind(this)},"发送")))}}]),t}(c.default.Component),g=(0,d.connect)(s,null)(b);t.default=g;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"Room","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Room.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Room.jsx"),__REACT_HOT_LOADER__.register(g,"default","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Room.jsx"))})()},function(e,t,n){var o=n(298);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".Room{width:100%;height:100%}.Room>.game-info{position:absolute;top:0;left:0;height:300px;width:200px;background:#515765;text-align:center}.Room>.game-info>.id{margin-top:8px;margin-bottom:4px;color:#fff;font-size:17px}.Room>.game-info>span{color:#bfbfbf;font-size:16px}.Room>.game-info>input[type=text],.Room>.game-info>input[type=text]:disabled{width:130px;outline:none;color:#dfdfdf;font-size:16px;margin-top:8px}.Room>.game-info>input[type=text]{border:1px solid #999;background:#000}.Room>.game-info>input[type=text]:disabled{border:1px solid #515765;background:#515765}.Room>.game-info>img{width:128px;height:120px;margin:0 36px}.Room>.game-info>button{width:112px;height:25px;border-radius:4px;margin:8px 36px;outline:none;background:#a0a0a0;color:#efefef;border:1px solid #515765;font-size:16px}.Room>.users{position:absolute;background:#303940;top:0;height:300px;left:200px;right:0;text-align:center}.Room>.users>table{width:100%;border-spacing:0}.Room>.users>table>thead>tr{height:32px;color:#adb6cd;background:#15385f}.Room>.users>table>tbody>tr>td{padding:5px 16px}.Room>.users>table>tbody>tr>td>img{height:20px;width:20px;float:left;border:1px solid #a0a0a0;margin-right:12px}.Room>.users>table>tbody>tr>td>span{float:left;font-size:16px;padding:3px}.Room>.users>table>tbody>.odd{height:32px;color:#adb6cd;background:#02050e}.Room>.users>table>tbody>.even{height:32px;color:#adb6cd;background:#1f2126}.Room>.controls{position:absolute;background:#3d3f3e;top:300px;height:32px;width:100%}.Room>.controls>button{float:right;width:100px;height:24px;outline:0;margin:4px;color:#dfdfdf;background:#2d6a88;border:1px solid #274252;border-radius:4px}.Room>.chatHistoryBox{background:#161b1f;position:absolute;top:332px;bottom:32px;left:0;right:0;overflow:hidden}.Room>.chatHistoryBox>.chatHistory{position:absolute;left:0;top:0;height:auto;right:10;padding:5px 15px;color:#fff;float:left}.Room>.chatHistoryBox>.chatHistory>.list{padding:0;border:0;margin-bottom:5px;text-align:left}.Room>.chat{position:absolute;background:#161b1f;height:32px;bottom:0;left:0;right:0}.Room>.chat>input{width:80%;height:24px;outline:0;margin:4px 10px 4px 4px;background:#161b1f;border:1px solid #a0a0a0;border-radius:4px;color:#dfdfdf;padding:2px 2px 2px 10px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.Room>.chat>button{width:15%;height:24px;outline:0;margin:4px;color:#dfdfdf;background:#2d6a88;border:1px solid #274252;border-radius:4px}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{room:e.room,gameTab:e.gameTab,user:e.user}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166);n(300);var f=n(291),m=o(f),p=n(287),h=n(302),b=o(h),g=n(305),_=o(g),y=n(308),E=o(y),v=n(313),x=(o(v),function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={chatHide:!0,msg:[],time:0},n}return i(t,e),l(t,[{key:"msgAdd",value:function(e){var t=this;this.state.msg.push(e),this.props.msgAdd(e),setTimeout(function(){t.state.msg.shift(),t.setState({msg:t.state.msg})},15e3),this.setState({msg:this.state.msg})}},{key:"componentDidMount",value:function(){var e=this;this.msgAdd({from:"提示",msg:"按下enter键向其他玩家发送消息"}),this.msgAdd({from:"默认按键设置",msg:"上:w    下:s    左:a    右:d    选择:v    确认:b    A:k    B:j    X:i    Y:u"}),this.props.gameTabSet(""),this.interval=setInterval(function(){e.setState({time:e.state.time+1})},1e3),window.nes=new JSNES({ui:$("#emulator").JSNESUI(),romPath:"/rom/"+this.props.room.game+".nes"}),window.nes.ui.addKeyboard(document.getElementById("window")),document.getElementById("window").addEventListener("keyup",function(t){13==t.keyCode&&(e.setState({chatHide:!e.state.chatHide}),e.state.chatHide||document.getElementById("chat").focus())}),this.props.msgSet([]),m.default.on("roomMsg",function(t){console.log(e.state.msg);var n={from:t.from,msg:t.msg};e.msgAdd(n)})}},{key:"componentWillUnmount",value:function(){window.nes.stop(),clearInterval(this.interval)}},{key:"enter",value:function(e){if(13==e.keyCode){var t=document.getElementById("chat"),n=t.value;""!=n&&(m.default.sendRoomMsg(n),t.value=""),this.setState({chatHide:!0}),document.getElementById("window").focus()}}},{key:"render",value:function(){var e=this,t=parseInt(this.state.time%60);t<10&&(t="0"+t);var n=parseInt(this.state.time/60%60);n<10&&(n="0"+n);var o=parseInt(this.state.time/3600);o<10&&(o="0"+o);var r=o+":"+n+":"+t;return c.default.createElement("div",{className:"Game"},"Players"==this.props.gameTab?c.default.createElement(b.default,null):"Chat"==this.props.gameTab?c.default.createElement(_.default,null):"Menu"==this.props.gameTab?c.default.createElement(E.default,null):c.default.createElement("div",null),c.default.createElement("div",{className:"buttons"},c.default.createElement("button",{disabled:!0},"任务"),c.default.createElement("button",{onClick:function(){e.setState({chatHide:!0}),e.props.gameTabSet("Menu")}},"菜单"),c.default.createElement("input",{type:"text",value:r,disabled:!0}),c.default.createElement("button",{onClick:function(){e.setState({chatHide:!0}),e.props.gameTabSet("Players")}},"玩家"),c.default.createElement("button",{onClick:function(){e.setState({chatHide:!0}),e.props.gameTabSet("Chat")}},"聊天")),c.default.createElement("div",{className:"window",id:"window",tabIndex:"0"},c.default.createElement("div",{id:"emulator",className:"emulator"}),c.default.createElement("div",{id:"chatHistory",className:"chatHistory"},this.state.msg.map(function(e,t){return c.default.createElement("div",{className:"list",key:t},c.default.createElement("span",{style:{color:"green"}},"[",e.from,"]: "),c.default.createElement("span",{style:{color:"white"}},e.msg))}))),this.state.chatHide?c.default.createElement("div",null):c.default.createElement("div",{className:"chatBox"},c.default.createElement("div",{className:"chatInfo"},"发送消息："),c.default.createElement("input",{type:"text",className:"chat",id:"chat",onKeyUp:this.enter.bind(this)})))}}]),t}(c.default.Component)),w=(0,d.connect)(s,{roomSet:p.roomSet,gameTabSet:p.gameTabSet,msgSet:p.msgSet,msgAdd:p.msgAdd,nesSet:p.nesSet,keyboardGet:p.keyboardGet})(x);t.default=w;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(x,"Game","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game.jsx"),__REACT_HOT_LOADER__.register(w,"default","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game.jsx"))})()},function(e,t,n){var o=n(301);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".Game{position:fixed;height:100%;width:100%;background:#000}.Game,.Game>.buttons{top:0;left:0;z-index:100}.Game>.buttons{position:absolute;height:30px;right:0;text-align:left;background:#7a7f7b}.Game>.buttons>button{background:#001f41;border:1px solid #a4821a;color:#fff;border-radius:7px;width:20%;height:28px;margin:1px 0;font-size:16px;line-height:22px;outline:0}.Game>.buttons>button:disabled{background:#1e2021;border:1px solid #796520;color:#5a6060}.Game>.buttons>input{background:#000;border:2px solid #293232;border-radius:7px;color:#fff;left:40%;width:20%;height:28px;margin:1px 0;font-size:16px;line-height:22px;outline:0;text-align:center;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.Game>.window{position:absolute;top:30px;left:0;bottom:0;right:0;z-index:1}.Game>.window>.status{position:absolute;right:0;color:#fff;z-index:1}.Game>.window>.frame{position:absolute;bottom:0;left:0;color:#fff;z-index:1}.Game>.window>.emulator{position:absolute;top:0;left:0;bottom:0;right:0;text-align:center;z-index:0}.Game>.window>.chatHistory{position:absolute;bottom:200px;left:10px;width:90%;z-index:1000}.Game>.chatBox{z-index:100;position:fixed;bottom:120px;left:25%;width:50%;height:30px;line-height:30px;opacity:.9}.Game>.chatBox>.chatInfo{position:absolute;z-index:100;left:7px;color:#efc41d;font-size:16px}.Game>.chatBox>.chat{position:absolute;font-size:16px;z-index:1;width:100%;height:100%;outline:0;background:#161b1f;border:1px solid #efc41d;border-radius:4px;color:#dfdfdf;padding:2px 2px 2px 85px;text-align:left;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.GameTab{position:fixed;left:0;top:0;width:100%;height:100%;background-color:#444;opacity:.9;-moz-opacity:.9;filter:alpha(opacity=90);z-index:100;font-family:arial}.GameTab>.window{width:auto;position:absolute;left:20%;right:20%;top:10%;bottom:10%;padding:33px 30px;color:gold;background:#111;border:2px solid #b09528;border-radius:3px;opacity:.8}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{game:e.game,room:e.room}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166);n(303);var f=n(291),m=(o(f),n(287)),p=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=[];for(var n in this.props.room.players)null!=this.props.room.players[n]&&t.push(c.default.createElement("tbody",{key:n},c.default.createElement("tr",null,c.default.createElement("td",{style:{textAlign:"center"}},c.default.createElement("img",{className:"gameTabAvatar",src:this.props.room.players[n].avatar})),c.default.createElement("td",null,c.default.createElement("span",null,this.props.room.players[n].name)),c.default.createElement("td",null,c.default.createElement("span",null,"玩家",parseInt(n)+1)))));return c.default.createElement("div",{className:"GameTab"},c.default.createElement("div",{className:"window"},c.default.createElement("div",{style:{textAlign:"center"}},"玩家列表"),c.default.createElement("table",{style:{width:"100%"}},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("td",{width:"50px"}),c.default.createElement("td",{width:"auto"}),c.default.createElement("td",{width:"50px"}))),t),c.default.createElement("div",{className:"exitButtons"},c.default.createElement("button",{onClick:function(){document.getElementById("window").focus(),e.props.gameTabSet("")}},"确定"),c.default.createElement("button",{onClick:function(){document.getElementById("window").focus(),e.props.gameTabSet("")}},"取消"))))}}]),t}(c.default.Component),h=(0,d.connect)(s,{roomSet:m.roomSet,gameTabSet:m.gameTabSet})(p);t.default=h;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"Players","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/Players.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/Players.jsx"),__REACT_HOT_LOADER__.register(h,"default","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/Players.jsx"))})()},function(e,t,n){var o=n(304);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".gameTabAvatar{height:32px;width:32px}.GameTab>.window>.exitButtons{position:absolute;bottom:31px;left:10%;right:10%}.GameTab>.window>.exitButtons>button{background:#000;border:1px solid #a4821a;color:gold;border-radius:3px;width:40%;margin:0 5%;height:28px;font-size:16px;line-height:22px;outline:0}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{game:e.game,room:e.room,msg:e.msg}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166);n(306);var f=n(291),m=(o(f),n(287)),p=n(284),h=o(p),b=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"GameTab"},c.default.createElement("div",{className:"window"},c.default.createElement("div",{style:{textAlign:"center"}},"聊天纪录"),c.default.createElement("div",{id:"historyBox",className:"historyBox"},c.default.createElement("div",{id:"history",className:"history"},this.props.msg.map(function(e,t){return c.default.createElement("div",{className:"list",key:t},c.default.createElement("span",{
style:{color:"green"}},"[",e.from,"]: "),c.default.createElement("span",{style:{color:"white"}},e.msg))})),c.default.createElement(h.default,{mainBoxID:"historyBox",contentID:"history",scrollUpdate:this.props.msg.length})),c.default.createElement("div",{className:"exitButtons"},c.default.createElement("button",{onClick:function(){document.getElementById("window").focus(),e.props.gameTabSet("")}},"确定"),c.default.createElement("button",{onClick:function(){document.getElementById("window").focus(),e.props.gameTabSet("")}},"取消"))))}}]),t}(c.default.Component),g=(0,d.connect)(s,{roomSet:m.roomSet,gameTabSet:m.gameTabSet})(b);t.default=g;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"Chat","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/Chat.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/Chat.jsx"),__REACT_HOT_LOADER__.register(g,"default","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/Chat.jsx"))})()},function(e,t,n){var o=n(307);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".GameTab>.window>.exitButtons{position:absolute;bottom:31px;left:10%;right:10%}.GameTab>.window>.historyBox{background:#161b1f;position:absolute;top:89px;bottom:108px;left:43px;right:43px;overflow:hidden;border:2px solid #e0c548;border-radius:3px}.GameTab>.window>.historyBox>.history{position:absolute;left:0;top:0;height:auto;right:10;padding:5px 15px;color:#fff;float:left}.GameTab>.window>.historyBox>.history>.list{padding:0;border:0;margin-bottom:5px;text-align:left}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{game:e.game,room:e.room}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166);n(309);var f=n(291),m=o(f),p=n(287),h=n(311),b=(o(h),n(312)),g=o(b),_=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isRunning:window.nes.isRunning,emulateSound:window.nes.opts.emulateSound,page:"游戏菜单"},n}return i(t,e),l(t,[{key:"leave",value:function(){m.default.send({type:"leaveRoom"})}},{key:"render",value:function(){var e=this,t=[];for(var n in this.props.room.players)null!=this.props.room.players[n]&&t.push(c.default.createElement("tbody",{key:n},c.default.createElement("tr",null,c.default.createElement("td",{style:{textAlign:"center"}},c.default.createElement("img",{className:"gameTabAvatar",src:this.props.room.players[n].avatar})),c.default.createElement("td",null,c.default.createElement("span",null,this.props.room.players[n].name)),c.default.createElement("td",null,c.default.createElement("span",null,"玩家",parseInt(n)+1)))));return c.default.createElement("div",{className:"GameTab"},"键位设置"==this.state.page?c.default.createElement(g.default,null):"游戏菜单"==this.state.page?c.default.createElement("div",{className:"menuWindow"},c.default.createElement("div",{style:{textAlign:"center"}},"游戏菜单"),c.default.createElement("div",{className:"menuButtons"},c.default.createElement("button",{onClick:function(){window.nes.ui.stopOrStart(),e.setState({isRunning:!e.state.isRunning})}},this.state.isRunning?"暂停游戏":"继续游戏"),c.default.createElement("button",{onClick:function(){window.nes.restart(),e.setState({isRunning:!0})},disabled:!0},"重新开始"),c.default.createElement("button",{onClick:function(){return e.props.gameTabSet("")},disabled:!0},"保存游戏"),c.default.createElement("button",{onClick:function(){return e.props.gameTabSet("")},disabled:!0},"装载游戏"),c.default.createElement("button",{onClick:function(){window.nes.ui.emulateSoundChange(),e.setState({emulateSound:!e.state.emulateSound})}},this.state.emulateSound?"关闭声音":"打开声音"),c.default.createElement("button",{onClick:function(){return e.setState({page:"键位设置"})},disabled:!0},"键位设置"),c.default.createElement("button",{onClick:function(){return e.leave()}},"结束游戏"),c.default.createElement("br",null),c.default.createElement("button",{onClick:function(){document.getElementById("window").focus(),e.props.gameTabSet("")}},"回到游戏"))):c.default.createElement("div",null))}}]),t}(c.default.Component),y=(0,d.connect)(s,{roomSet:p.roomSet,gameTabSet:p.gameTabSet,tabSet:p.tabSet})(_);t.default=y;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"Menu","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/Menu.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/Menu.jsx"),__REACT_HOT_LOADER__.register(y,"default","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/Menu.jsx"))})()},function(e,t,n){var o=n(310);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".GameTab>.menuWindow{width:300px;margin:50px auto;top:10%;bottom:10%;padding:33px 30px;color:gold;background:#111;border:2px solid #b09528;border-radius:3px;opacity:.8}.GameTab>.menuWindow>.menuButtons{left:10px;right:10px;text-align:center;margin:10px 0}.GameTab>.menuWindow>.menuButtons>button{background:#000;border:1px solid #a4821a;color:gold;border-radius:3px;width:100%;margin:5px 0;height:36px;font-size:16px;line-height:22px;outline:0}.GameTab>.menuWindow>.menuButtons>button:disabled{border:1px solid #796520;color:#5a6060}.key{float:right}.value{width:38px;height:16px}",""])},function(e,t){"use strict";var n=null;t.addKeyboard=function(e,t){t.addEventListener("keydown",function(t){e.keyboard.keyDown(t)}),t.addEventListener("keyup",function(t){e.keyboard.keyUp(t)}),t.addEventListener("keypress",function(t){e.keyboard.keyPress(t)})},t.createUI=function(){window.nes=new JSNES({ui:$("#emulator").JSNESUI()})},t.loadRom=function(e,t){$.ajax({url:t,xhr:function e(){var e=$.ajaxSettings.xhr();return"undefined"!=typeof e.overrideMimeType&&e.overrideMimeType("text/plain; charset=x-user-defined"),e},complete:function(t,n){var o;if(JSNES.Utils.isIE()){var r=JSNESBinaryToArray(t.responseBody).toArray();o=String.fromCharCode.apply(void 0,r)}else o=t.responseText;e.loadRom(o),e.start()}})},t.pasue=function(){n.isRunning?n.stop():n.start()},t.isRunning=function(){return n.isRunning},t.initSize=function(e){var t=document.documentElement.clientHeight-30,n=document.documentElement.clientWidth,o=(document.getElementById("emulator"),!(t/240*256>n));o?e.ui.screen.animate({width:t/240*256+"px",height:t+"px"}):e.ui.screen.animate({width:n+"px",height:n/256*240+"px"})},t.reset=function(){n.reset()},t.restart=function(){n.reloadRom(),n.start()},t.sound=function(){n.opts.emulateSound?n.opts.emulateSound=!1:n.opts.emulateSound=!0};(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"nes","/Users/meteor/go/src/nes-online/react/src/container/GameTab/GameAPI.js")})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{user:e.user,room:e.room,keyboard:e.keyboard}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166),f=n(291),m=(o(f),n(287)),p=n(313),h=o(p),b=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=window.nes.keyboard.player[0],n}return i(t,e),l(t,[{key:"setKeyboard",value:function(){var e=this;h.default.update(this.state,function(t){window.nes.keyboard.player[0]=e.state,document.getElementById("window").focus(),e.props.gameTabSet("")})}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"window"},c.default.createElement("div",{style:{textAlign:"center"}},"键位设置"),c.default.createElement("table",{style:{width:"100%"}},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("td",{width:"50%"}),c.default.createElement("td",{width:"50%"}))),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{className:"key"},"上："),c.default.createElement("td",null,c.default.createElement("input",{className:"value",id:"up",type:"text",value:this.state.up,onKeyUp:function(t){e.setState({up:t.keyCode}),document.getElementById("down").focus()}})))),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{className:"key"},"下："),c.default.createElement("td",null,c.default.createElement("input",{className:"value",id:"down",type:"text",value:this.state.down,onKeyUp:function(t){e.setState({down:t.keyCode}),document.getElementById("left").focus()}})))),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{className:"key"},"左："),c.default.createElement("td",null,c.default.createElement("input",{className:"value",id:"left",type:"text",value:this.state.left,onKeyUp:function(t){e.setState({left:t.keyCode}),document.getElementById("right").focus()}})))),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{className:"key"},"右："),c.default.createElement("td",null,c.default.createElement("input",{className:"value",id:"right",type:"text",value:this.state.right,onKeyUp:function(t){e.setState({right:t.keyCode}),document.getElementById("select").focus()}})))),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{className:"key"},"选择："),c.default.createElement("td",null,c.default.createElement("input",{className:"value",id:"select",type:"text",value:this.state.select,onKeyUp:function(t){e.setState({select:t.keyCode}),document.getElementById("start").focus()}})))),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{className:"key"},"确认："),c.default.createElement("td",null,c.default.createElement("input",{className:"value",id:"start",type:"text",value:this.state.start,onKeyUp:function(t){e.setState({start:t.keyCode}),document.getElementById("A").focus()}})))),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{className:"key"},"A："),c.default.createElement("td",null,c.default.createElement("input",{className:"value",id:"A",type:"text",value:this.state.A,onKeyUp:function(t){e.setState({A:t.keyCode}),document.getElementById("B").focus()}})))),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{className:"key"},"B："),c.default.createElement("td",null,c.default.createElement("input",{className:"value",id:"B",type:"text",value:this.state.B,onKeyUp:function(t){e.setState({B:t.keyCode}),document.getElementById("X").focus()}})))),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{className:"key"},"X："),c.default.createElement("td",null,c.default.createElement("input",{className:"value",id:"X",type:"text",value:this.state.X,onKeyUp:function(t){e.setState({X:t.keyCode}),document.getElementById("Y").focus()}})))),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{className:"key"},"Y："),c.default.createElement("td",null,c.default.createElement("input",{className:"value",id:"Y",type:"text",value:this.state.Y,onKeyUp:function(t){e.setState({Y:t.keyCode}),document.getElementById("up").focus()}}))))),c.default.createElement("div",{className:"exitButtons"},c.default.createElement("button",{onClick:function(){return e.setKeyboard()}},"确定"),c.default.createElement("button",{onClick:function(){document.getElementById("window").focus(),e.props.gameTabSet("")}},"取消")))}}]),t}(c.default.Component),g=(0,d.connect)(s,{roomSet:m.roomSet,gameTabSet:m.gameTabSet,tabSet:m.tabSet,keyboardSet:m.keyboardSet})(b);t.default=g;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"KeyboardSetting","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/KeyboardSetting.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/KeyboardSetting.jsx"),__REACT_HOT_LOADER__.register(g,"default","/Users/meteor/go/src/nes-online/react/src/container/GameTab/Game/KeyboardSetting.jsx"))})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(269),a=o(r),s=n(270),l=o(s),u=n(271),c=o(u);t.load=function(e){var t=l.default.apiServer+"/getKeyboard?name="+c.default.getState().user.name;a.default.Get(t).then(function(t){c.default.dispatch({type:"keyboardSet",keyboard:t});var n=c.default.getState().room.players,o=0;for(i in n)n[i].name==c.default.getState().user.name&&(o=i);1==o?window.nes.keyboard.player[0]=t:2==o&&(window.nes.keyboard.player2=t),e(t)}).catch(function(e){console.error(e)})},t.update=function(e,t){var n=l.default.apiServer+"/setKeyboard?name="+c.default.getState().user.name,o="keyboard="+JSON.stringify(e);a.default.Post(n,o).then(function(n){c.default.dispatch({type:"keyboardSet",keyboard:e}),window.nes.keyboard.player[0]=e,t(n)}).catch(function(e){console.error(e)})},t.get=function(){return{}};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),u=o(l);n(315);var c=n(291),d=o(c),f=n(284),m=o(f),p=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._wheelData=0,n.state={users:new Object,hidden:!1},n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({hidden:!0}),d.default.on("userlist",function(t){null==t.users?e.setState({users:new Object}):e.setState({users:t.users})}),d.default.on("in",function(t){e.state.users[t.user.name]=t.user,e.setState({users:e.state.users})}),d.default.on("out",function(t){delete e.state.users[t.userName],e.setState({users:e.state.users})})}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.users)t.push(u.default.createElement("div",{className:"Block",key:n},u.default.createElement("img",{src:this.state.users[n].avatar}),u.default.createElement("div",{className:"Info"},this.state.users[n].name)));return u.default.createElement("div",null,u.default.createElement("button",{className:"friends",onClick:function(){e.setState({hidden:!e.state.hidden})}},t.length),u.default.createElement("div",{className:"UserTab",id:"UserTab",hidden:this.state.hidden},u.default.createElement("div",{className:"UserListBox",id:"UserListBox"},u.default.createElement("div",{className:"UserList",id:"UserList"},u.default.createElement("div",{className:"tab"},"▼ 在线用户 (",t.length,")"),t),u.default.createElement(m.default,{mainBoxID:"UserListBox",contentID:"UserList",scrollUpdate:t.length}))))}}]),t}(u.default.Component),h=p;t.default=h;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"UserTab","/Users/meteor/go/src/nes-online/react/src/container/UserTab/UserTab.jsx"),__REACT_HOT_LOADER__.register(h,"default","/Users/meteor/go/src/nes-online/react/src/container/UserTab/UserTab.jsx"))})()},function(e,t,n){var o=n(316);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".UserTab{position:fixed;width:200px;top:80px;right:0;bottom:32px;opacity:.95;background:#5c5c5c}.UserListBox{position:relative;height:100%;width:100%;overflow:hidden}.UserList{position:absolute;left:0;top:0;right:10px;height:auto}.friends{position:fixed;right:0;top:16px;height:32px;border:1px solid #666;border-radius:21px;padding:6px 15px 6px 34px;margin:0 16px;background:url(/img/friends.png) no-repeat 13px 7px;outline:none;color:#ccc;font-size:16px}.friends:hover{background:url(/img/friends_hover.png) no-repeat 13px 7px;color:#fff}.UserList>.tab{color:#fff;font-size:13px}.UserList>.Block{position:relative;padding:5px;height:33px;background:#606060;color:#efefef;border-radius:10px;margin:3px;text-align:center}.UserList>.Block:hover{color:#fff;background:#707070}.UserList>.Block>img{width:32px;height:32px;float:left;border:1px solid #efefef;border-radius:16px;margin-right:13px}.UserList>.Block>.Info{border-left:0;padding:0;margin:0;text-align:left;font-size:13px}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{keyboard:e.keyboard,user:e.user}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),d=n(166);n(318);var f=n(291),m=(o(f),n(284)),p=o(m),h=n(287),b=n(320),g=o(b),_=n(321),y=o(_),E=n(322),v=o(E),x=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hidden:!1,name:n.props.user.name,up:n.props.keyboard.up,down:n.props.keyboard.down,left:n.props.keyboard.left,right:n.props.keyboard.right,select:n.props.keyboard.select,start:n.props.keyboard.start,A:n.props.keyboard.A,B:n.props.keyboard.B,X:n.props.keyboard.X,Y:n.props.keyboard.Y},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.setState({hidden:!0})}},{key:"checkName",value:function(){var e=document.getElementById("name").value;this.setState({name:e});var t="checkName";return e==this.props.user.name?(document.getElementById("save").disabled=!1,void console.log(e)):""==e?(g.default.msgERR(t,"昵称不能为空"),void(document.getElementById("save").disabled=!0)):e.indexOf("@")>0?(g.default.msgERR(t,"昵称中不允许包含@"),void(document.getElementById("save").disabled=!0)):void y.default.checkName(e,function(e){return e.state?(g.default.msgOK(t,e.msg),void(document.getElementById("save").disabled=!1)):(g.default.msgERR(t,e.msg),void(document.getElementById("save").disabled=!0))})}},{key:"settingUpdate",value:function(){var e=this;v.default.settingUpdate(this.state.name,{up:this.state.up,down:this.state.down,left:this.state.left,right:this.state.right,select:this.state.select,start:this.state.start,A:this.state.A,B:this.state.B,X:this.state.X,Y:this.state.Y},function(t){var n="saveCheck";return t.state?(g.default.msgOK(n,t.msg),void e.setState({hidden:!0})):void g.default.msgERR(n,t.msg)})}},{key:"render",value:function(){var e=this;return c.default.createElement("div",null,c.default.createElement("button",{className:"SettingButton",onClick:function(){e.setState({hidden:!1,name:e.props.user.name,up:e.props.keyboard.up,down:e.props.keyboard.down,left:e.props.keyboard.left,right:e.props.keyboard.right,select:e.props.keyboard.select,start:e.props.keyboard.start,A:e.props.keyboard.A,B:e.props.keyboard.B,X:e.props.keyboard.X,Y:e.props.keyboard.Y})}},"游戏设置"),this.state.hidden?c.default.createElement("div",null):c.default.createElement("div",{className:"WindowMask"},c.default.createElement("div",{className:"Window"},c.default.createElement("div",{className:"header"},"设置",c.default.createElement("button",{className:"exit",onClick:function(){return e.setState({hidden:!0})}},"X")),c.default.createElement("div",{className:"bodyBox",id:"bodyBox"},c.default.createElement("div",{className:"body",id:"body"},c.default.createElement("div",{className:"item"},c.default.createElement("div",{className:"title"},"个人设置"),c.default.createElement("span",null,"昵称"),c.default.createElement("input",{type:"text",id:"name",defaultValue:this.state.name,onBlur:this.checkName.bind(this)}),c.default.createElement("div",{id:"checkName",className:"msg"})),c.default.createElement("div",{className:"item"},c.default.createElement("div",{className:"title"},"按键设置"),c.default.createElement("span",null,"上 "),c.default.createElement("input",{className:"value",id:"up",type:"text",value:this.state.up,onKeyUp:function(t){e.setState({up:t.keyCode}),document.getElementById("down").focus()}}),c.default.createElement("br",null),c.default.createElement("span",null,"下 "),c.default.createElement("input",{className:"value",id:"down",type:"text",value:this.state.down,onKeyUp:function(t){e.setState({down:t.keyCode}),document.getElementById("left").focus()}}),c.default.createElement("br",null),c.default.createElement("span",null,"左 "),c.default.createElement("input",{className:"value",id:"left",type:"text",value:this.state.left,onKeyUp:function(t){e.setState({left:t.keyCode}),document.getElementById("right").focus()}}),c.default.createElement("br",null),c.default.createElement("span",null,"右 "),c.default.createElement("input",{className:"value",id:"right",type:"text",value:this.state.right,onKeyUp:function(t){e.setState({right:t.keyCode}),document.getElementById("select").focus()}}),c.default.createElement("br",null),c.default.createElement("span",null,"选择"),c.default.createElement("input",{className:"value",id:"select",type:"text",value:this.state.select,onKeyUp:function(t){e.setState({select:t.keyCode}),document.getElementById("start").focus()}}),c.default.createElement("br",null),c.default.createElement("span",null,"确认"),c.default.createElement("input",{className:"value",id:"start",type:"text",value:this.state.start,onKeyUp:function(t){e.setState({start:t.keyCode}),document.getElementById("A").focus()}}),c.default.createElement("br",null),c.default.createElement("span",null,"A "),c.default.createElement("input",{className:"value",id:"A",type:"text",value:this.state.A,onKeyUp:function(t){e.setState({A:t.keyCode}),document.getElementById("B").focus()}}),c.default.createElement("br",null),c.default.createElement("span",null,"B "),c.default.createElement("input",{className:"value",id:"B",type:"text",value:this.state.B,onKeyUp:function(t){e.setState({B:t.keyCode}),document.getElementById("X").focus()}}),c.default.createElement("br",null),c.default.createElement("span",null,"X "),c.default.createElement("input",{className:"value",id:"X",type:"text",value:this.state.X,onKeyUp:function(t){e.setState({X:t.keyCode}),document.getElementById("Y").focus()}}),c.default.createElement("br",null),c.default.createElement("span",null,"Y "),c.default.createElement("input",{className:"value",id:"Y",type:"text",value:this.state.Y,onKeyUp:function(t){e.setState({Y:t.keyCode}),document.getElementById("up").focus()}}),c.default.createElement("br",null))),c.default.createElement(p.default,{mainBoxID:"bodyBox",contentID:"body"})),c.default.createElement("div",{className:"footer"},c.default.createElement("button",{className:"close",onClick:function(){return e.setState({hidden:!0})}},"关闭"),c.default.createElement("button",{className:"save",id:"save",onClick:function(){return e.settingUpdate()}},"保存"),c.default.createElement("div",{id:"saveCheck",className:"msg"})))))}}]),t}(c.default.Component),w=(0,d.connect)(s,{roomSet:h.roomSet,tabSet:h.tabSet})(x);t.default=w;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(x,"SettingTab","/Users/meteor/go/src/nes-online/react/src/container/SettingTab/SettingTab.jsx"),__REACT_HOT_LOADER__.register(s,"mapStateToProps","/Users/meteor/go/src/nes-online/react/src/container/SettingTab/SettingTab.jsx"),__REACT_HOT_LOADER__.register(w,"default","/Users/meteor/go/src/nes-online/react/src/container/SettingTab/SettingTab.jsx"))})()},function(e,t,n){var o=n(319);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".SettingButton{position:fixed;top:48px;right:0;background:url(/img/settings.png) no-repeat 0 8px;outline:none;border:0;color:#cfcfcf;font-size:13px;padding:7px 20px}.WindowMask{position:fixed;left:0;top:0;width:100%;height:100%;z-index:100}.Window{position:absolute;left:10%;right:10%;top:10%;bottom:10%}.Window>.header{top:0;left:0;line-height:32px;padding:0 12px;background:#1f2021}.Window>.header,.Window>.header>.exit{position:absolute;height:32px;right:0;color:#c1c2c3}.Window>.header>.exit{width:32px;font-size:20px;background:none;outline:none;border:none}.Window>.bodyBox{position:absolute;top:32px;bottom:60px;left:0;right:0;background:#070809;line-height:40px;overflow:hidden}.Window>.bodyBox>.body{position:absolute;left:0;top:0;right:10px;height:auto}.Window>.bodyBox>.body>.item{padding:10px 20px}.Window>.bodyBox>.body>.item>.title{color:#c1c2c3}.Window>.bodyBox>.body>.item>span{color:#7f7f7f}.Window>.bodyBox>.body>.item>input{margin:0 10px;background:#3f4041;border:1px solid #676669;border-radius:4px;height:21px;width:160px;color:#e7e5e6;outline:none}.Window>.bodyBox>.body>.item>input:focus{border:1px solid #f7f6f9}.Window>.footer{position:absolute;bottom:0;height:60px;left:0;right:0;background:#1f2021}.Window>.footer>button{float:right;outline:none;border:0;margin:11px 16px 11px 0;height:38px;width:136px;border-radius:5px;font-size:20px}.Window>.footer>.msg{line-height:60px;float:right}.Window>.footer>button:disabled{background:#b9b9b9}.Window>.footer>.save{background:#ffc500;color:#1f2021}.Window>.footer>.close{background:#414643;color:#fffdfe}",""])},function(e,t){"use strict";t.msgERR=function(e,t){document.getElementById(e).innerHTML="<span style='color:red'>"+t+"</span>"},t.msgOK=function(e,t){document.getElementById(e).innerHTML="<span style='color:green'>"+t+"</span>"},t.msgInfo=function(e,t){document.getElementById(e).innerHTML="<span style='color:white'>"+t+"</span>"};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(269),a=o(r),i=n(270),s=o(i);t.checkMail=function(e,t){var n=s.default.apiServer+"/checkMail?mail="+e;a.default.Get(n).then(function(e){t(e)}).catch(function(e){console.error(e)})},t.checkName=function(e,t){var n=s.default.apiServer+"/checkName?name="+e;a.default.Get(n).then(function(e){t(e)}).catch(function(e){console.error(e)})},t.register=function(e,t,n,o){var r=s.default.apiServer+"/register",i="mail="+e+"&name="+t+"&password="+n;a.default.Post(r,i).then(function(e){o(e)}).catch(function(e){console.error(e)})};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(269),a=o(r),i=n(270),s=o(i),l=n(271),u=o(l),c=n(287);o(c);t.settingUpdate=function(e,t,n){var o=s.default.apiServer+"/settingUpdate",r="keyboard="+JSON.stringify(t)+"&oldName="+u.default.getState().user.name+"&name="+e;a.default.Post(o,r).then(function(e){e.state&&(u.default.dispatch({type:"keyboardSet",keyboard:e.keyboard}),u.default.dispatch({type:"userUpdate",key:"name",value:e.name})),n(e)}).catch(function(e){console.error(e)})};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),u=o(l);n(204);n(324);var c=n(326),d=o(c),f=n(327),m=o(f),p=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e="active";d.default.msgInfo(e,"正在激活账户..."),m.default.active(this.props.params.active_code,function(t){return setTimeout(function(){location.href="/"},3e3),t.state?void d.default.msgOK(e,t.msg+"3s后跳转到登录界面"):void d.default.msgERR(e,t.msg+"3s后跳转到登录界面")})}},{key:"render",value:function(){return u.default.createElement("div",{className:"Form"},u.default.createElement("h1",null,"激活账户"),u.default.createElement("div",{className:"msg",id:"active"}))}}]),t}(u.default.Component),h=p;t.default=h;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"Active","/Users/meteor/go/src/nes-online/react/src/container/MaskLayer/Active.jsx"),__REACT_HOT_LOADER__.register(h,"default","/Users/meteor/go/src/nes-online/react/src/container/MaskLayer/Active.jsx"))})()},function(e,t,n){var o=n(325);"string"==typeof o&&(o=[[e.id,o,""]]);n(261)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(260)(),t.push([e.id,".MaskLayer{position:fixed;left:0;top:0;width:100%;height:100%;background-color:#444;z-index:100;font-family:arial}.Form,.MaskLayer{opacity:.9;-moz-opacity:.9;filter:alpha(opacity=90)}.Form{width:300px;padding:30px;border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;margin:50px auto}.Form>h1{color:#fff;text-align:center}.Form>input:-moz-placeholder,.Form>input::-moz-placeholder{color:#eee}.Form>input:-ms-input-placeholder{color:#eee}.Form>input::-webkit-input-placeholder{color:#eee}.Form>input{position:relative;margin:5px 0;width:100%;height:40px;padding:5px 7px 5px 15px;background:none;color:#fff;border:1px solid #ddd;font-size:14px;border-radius:6px;-moz-border-radius:6px;-webkit-border-radius:6px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;background:#2d2d2d;background:rgba(45,45,45,.15);border:1px solid #3d3d3d;border:1px solid hsla(0,0%,100%,.15);box-shadow:inset 0 2px 3px 0 rgba(0,0,0,.1);text-shadow:0 1px 2px rgba(0,0,0,.1);transition:all .2s}.Form>input:focus{border:1px solid #fff;color:#fff;outline:none;box-shadow:inset 0 2px 3px 0 rgba(0,0,0,.1),0 2px 7px 0 rgba(0,0,0,.2)}.Form>.errMsg{color:red;margin-bottom:10px}.Form>.errMsg,.Form>.msg{font-size:15px;height:15px;margin-left:5px}.Form>.link{height:15px;margin:5px}.Form>.link>.leftLink,.Form>.link>.rightLink{text-decoration:none;color:#eee;font-size:15px;margin-bottom:15px}.Form>.link>.leftLink{float:left}.Form>.link>.rightLink{float:right}.Form>.link>.leftLink:hover,.Form>.link>.rightLink:hover{text-decoration:underline;color:#fff}.Form>button{display:inline-block;margin-bottom:10px;width:100%;font-size:16px;height:40px;color:#fff;text-decoration:none;border:none;outline:none;border-radius:6px;-moz-border-radius:6px;-webkit-border-radius:6px}.Form>.disableButton{background:#b9b9b9}.Form>.enableButton{background:#1ad996}.Form>.enableButton:hover{background:#2ae9a6}.Form>.enableButton:active{background:#0ac986}.Form>p{text-align:center}",""]);
},function(e,t){"use strict";t.msgERR=function(e,t){document.getElementById(e).innerHTML="<span style='color:red'>"+t+"</span>"},t.msgOK=function(e,t){document.getElementById(e).innerHTML="<span style='color:green'>"+t+"</span>"},t.msgInfo=function(e,t){document.getElementById(e).innerHTML="<span style='color:white'>"+t+"</span>"};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(269),a=o(r),i=n(270),s=o(i);t.active=function(e,t){var n=s.default.apiServer+"/active",o="active_code="+e;a.default.Post(n,o).then(function(e){t(e)}).catch(function(e){console.error(e)})};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),u=o(l),c=n(204);n(324);var d=n(326),f=o(d),m=n(321),p=o(m),h=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkMail=n.checkMail.bind(n),n.checkName=n.checkName.bind(n),n.checkPassword=n.checkPassword.bind(n),n.register=n.register.bind(n),n.state={checkMail:!1,checkName:!1,checkPassword:!1},n}return i(t,e),s(t,[{key:"checkMail",value:function(){var e=this,t=document.getElementsByName("mail")[0].value,n="checkMail";if(""==t)return f.default.msgERR(n,"请填写你的邮箱地址"),this.setState({checkMail:!1}),void(document.getElementById("register").className="disableButton");var o=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;return o.test(t)?void p.default.checkMail(t,function(t){return t.state?(f.default.msgOK(n,t.msg),e.setState({checkMail:!0}),void(e.state.checkName&&e.state.checkPassword?document.getElementById("register").className="enableButton":document.getElementById("register").className="disableButton")):(f.default.msgERR(n,t.msg),e.setState({checkMail:!1}),void(document.getElementById("register").className="disableButton"))}):(f.default.msgERR(n,"请填写有效的邮箱地址"),this.setState({checkMail:!1}),void(document.getElementById("register").className="disableButton"))}},{key:"checkName",value:function(){var e=this,t=document.getElementsByName("name")[0].value,n="checkName";return""==t?(f.default.msgERR(n,"请填写你的昵称"),this.setState({checkName:!1}),void(document.getElementById("register").className="disableButton")):t.indexOf("@")>0?(f.default.msgERR(n,"用户名中不允许包含@"),this.setState({checkName:!1}),void(document.getElementById("register").className="disableButton")):void p.default.checkName(t,function(t){return t.state?(f.default.msgOK(n,t.msg),e.setState({checkName:!0}),void(e.state.checkMail&&e.state.checkPassword?document.getElementById("register").className="enableButton":document.getElementById("register").className="disableButton")):(f.default.msgERR(n,t.msg),e.setState({checkName:!1}),void(document.getElementById("register").className="disableButton"))})}},{key:"checkPassword",value:function(){var e=document.getElementsByName("password")[0].value,t=document.getElementsByName("password")[1].value,n="checkPassword";return""==e?(f.default.msgERR(n,"请输入密码"),this.setState({checkPassword:!1}),void(document.getElementById("register").className="disableButton")):e!=t?(f.default.msgERR(n,"两次输入的密码不一致"),this.setState({checkPassword:!1}),void(document.getElementById("register").className="disableButton")):(f.default.msgOK(n,""),this.setState({checkPassword:!0}),void(this.state.checkMail&&this.state.checkName?document.getElementById("register").className="enableButton":document.getElementById("register").className="disableButton"))}},{key:"register",value:function(){var e=document.getElementsByName("mail")[0].value,t=document.getElementsByName("name")[0].value,n=document.getElementsByName("password")[0].value;if(this.state.checkMail&&this.state.checkName&&this.state.checkPassword){var o="checkRegister";p.default.register(e,t,n,function(e){return e.state?void f.default.msgOK(o,e.msg):void f.default.msgERR(o,e.msg)})}}},{key:"render",value:function(){return u.default.createElement("div",{className:"Form"},u.default.createElement("h1",null,"注册"),u.default.createElement("input",{type:"email",placeholder:"邮箱",name:"mail",onBlur:this.checkMail}),u.default.createElement("div",{id:"checkMail",className:"msg"}),u.default.createElement("input",{type:"text",placeholder:"用户名",name:"name",onBlur:this.checkName}),u.default.createElement("div",{id:"checkName",className:"msg"}),u.default.createElement("input",{type:"password",placeholder:"密码",name:"password",onBlur:this.checkPassword}),u.default.createElement("input",{type:"password",placeholder:"再次输入密码",name:"password",onBlur:this.checkPassword}),u.default.createElement("div",{id:"checkPassword",className:"msg"}),u.default.createElement("div",{className:"link"},u.default.createElement(c.Link,{to:"/login",className:"rightLink"},"已有帐号？登录")),u.default.createElement("button",{type:"button",id:"register",className:"disableButton",onClick:this.register},"发送注册邮件"),u.default.createElement("div",{id:"checkRegister",className:"msg"}))}}]),t}(u.default.Component),b=h;t.default=b;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"Register","/Users/meteor/go/src/nes-online/react/src/container/MaskLayer/Register.jsx"),__REACT_HOT_LOADER__.register(b,"default","/Users/meteor/go/src/nes-online/react/src/container/MaskLayer/Register.jsx"))})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),u=o(l),c=n(204),d=n(166);n(324);var f=n(326),m=o(f),p=n(330),h=o(p),b=n(287),g=n(291),_=(o(g),function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={mask:"login"},n}return i(t,e),s(t,[{key:"login",value:function(){var e=document.getElementsByName("account")[0].value,t=document.getElementsByName("password")[0].value;h.default.login(e,t,function(e){var t="check";return e.state?(m.default.msgOK(t,e.msg),void(location.href="/")):void m.default.msgERR(t,e.msg)})}},{key:"enter",value:function(e){13==e.keyCode&&this.login()}},{key:"render",value:function(){return""==this.state.mask?u.default.createElement("div",null):u.default.createElement("div",{className:"Form"},u.default.createElement("h1",null,"登录"),u.default.createElement("input",{type:"text",placeholder:"用户名/邮箱",name:"account",autoComplete:"off",autoFocus:!0}),u.default.createElement("input",{type:"password",placeholder:"密码",name:"password",autoComplete:"off",onKeyUp:this.enter.bind(this)}),u.default.createElement("div",{className:"link"},u.default.createElement(c.Link,{to:"/register",className:"leftLink"},"没有帐号？"),u.default.createElement(c.Link,{to:"/forgetPassword",className:"rightLink"},"忘记密码？")),u.default.createElement("button",{type:"button",className:"enableButton",onClick:this.login.bind(this)},"登 录"),u.default.createElement("div",{id:"check",className:"msg"}),u.default.createElement("p",null,"快捷登录"),u.default.createElement("a",{href:"https://github.com/login/oauth/authorize?client_id=2443d910b04cd68c5a66&scope="},u.default.createElement("img",{src:"/img/github.png"})))}}]),t}(u.default.Component)),y=(0,d.connect)(null,{userSet:b.userSet})(_);t.default=y;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"Login","/Users/meteor/go/src/nes-online/react/src/container/MaskLayer/Login.jsx"),__REACT_HOT_LOADER__.register(y,"default","/Users/meteor/go/src/nes-online/react/src/container/MaskLayer/Login.jsx"))})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(269),a=o(r),i=n(270),s=o(i);t.login=function(e,t,n){var o=s.default.apiServer+"/login",r="account="+e+"&password="+t;a.default.Post(o,r).then(function(e){n(e)}).catch(function(e){console.error(e)})},t.loginCheck=function(e){var t=s.default.apiServer+"/loginCheck";a.default.Post(t).then(function(t){e(t)}).catch(function(e){console.error(e)})};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),u=o(l),c=n(204);n(324);var d=n(326),f=o(d),m=n(332),p=o(m),h=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.forgetPassword=n.forgetPassword.bind(n),n}return i(t,e),s(t,[{key:"forgetPassword",value:function(){var e=document.getElementsByName("mail")[0].value;p.default.forgetPassword(e,function(e){var t="check";return e.state?void f.default.msgOK(t,e.msg):void f.default.msgERR(t,e.msg)})}},{key:"render",value:function(){return u.default.createElement("div",{className:"Form"},u.default.createElement("h1",null,"忘记密码"),u.default.createElement("input",{type:"text",placeholder:"邮箱",name:"mail"}),u.default.createElement("div",{className:"link"},u.default.createElement(c.Link,{to:"/login",className:"leftLink"},"想起密码了？登录吧")),u.default.createElement("button",{type:"button",className:"enableButton",onClick:this.forgetPassword},"发送验证邮件"),u.default.createElement("div",{id:"check",className:"msg"}))}}]),t}(u.default.Component),b=h;t.default=b;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"ForgetPassword","/Users/meteor/go/src/nes-online/react/src/container/MaskLayer/ForgetPassword.jsx"),__REACT_HOT_LOADER__.register(b,"default","/Users/meteor/go/src/nes-online/react/src/container/MaskLayer/ForgetPassword.jsx"))})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(269),a=o(r),i=n(270),s=o(i);t.forgetPassword=function(e,t){var n=s.default.apiServer+"/forgetPassword",o="mail="+e;a.default.Post(n,o).then(function(e){t(e)}).catch(function(e){console.error(e)})};(function(){"undefined"==typeof __REACT_HOT_LOADER__})()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),u=o(l),c=n(204);n(324);var d=n(326),f=o(d),m=n(332),p=o(m),h=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkPassword=n.checkPassword.bind(n),n.forgetPasswordReset=n.forgetPasswordReset.bind(n),n}return i(t,e),s(t,[{key:"forgetPasswordReset",value:function(){var e=document.getElementsByName("mail")[0].value;p.default.forgetPasswordReset(e,function(e){var t="check";return e.state?void f.default.msgOK(t,e.msg):void f.default.msgERR(t,e.msg)})}},{key:"checkPassword",value:function(){var e=document.getElementsByName("password")[0].value,t=document.getElementsByName("password")[1].value,n="checkPassword";return""==e?(f.default.msgERR(n,"请输入密码"),this.setState({checkPassword:!1}),void(document.getElementById("reset").className="disableButton")):e!=t?(f.default.msgERR(n,"两次输入的密码不一致"),this.setState({checkPassword:!1}),void(document.getElementById("reset").className="disableButton")):(f.default.msgOK(n,""),this.setState({checkPassword:!0}),void(this.state.checkMail&&this.state.checkName?document.getElementById("reset").className="enableButton":document.getElementById("reset").className="disableButton"))}},{key:"render",value:function(){return u.default.createElement("div",{className:"Form"},u.default.createElement("h1",null,"重置密码"),u.default.createElement("input",{type:"password",placeholder:"密码",name:"password",onBlur:this.checkPassword}),u.default.createElement("input",{type:"password",placeholder:"再次输入密码",name:"password",onBlur:this.checkPassword}),u.default.createElement("div",{id:"checkPassword",className:"msg"}),u.default.createElement("div",{className:"link"},u.default.createElement(c.Link,{to:"/login",className:"leftLink"},"想起密码了？登录吧")),u.default.createElement("button",{type:"button",className:"enableButton",id:"reset",onClick:this.forgetPasswordReset},"确认"),u.default.createElement("div",{id:"check",className:"msg"}))}}]),t}(u.default.Component),b=h;t.default=b;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"ForgetPasswordReset","/Users/meteor/go/src/nes-online/react/src/container/MaskLayer/ForgetPasswordReset.jsx"),__REACT_HOT_LOADER__.register(b,"default","/Users/meteor/go/src/nes-online/react/src/container/MaskLayer/ForgetPasswordReset.jsx"))})()}]);